# PIPELINE DEFINITION
# Name: yolo-glasses-detection-pipeline-canary-test
# Description: A minimal test to see if a simple container can run on a GPU worker.
# Inputs:
#    pipeline_root: str [Default: 'gs://glasses-temp/pipeline-root']
#    project_id: str [Default: 'data-engineering-vm']
components:
  comp-canary-test:
    executorLabel: exec-canary-test
deploymentSpec:
  executors:
    exec-canary-test:
      container:
        image: europe-west4-docker.pkg.dev/data-engineering-vm/ml-services/canary-test:latest
        resources:
          accelerator:
            count: '1'
            resourceCount: '1'
            resourceType: NVIDIA_TESLA_T4
            type: NVIDIA_TESLA_T4
pipelineInfo:
  description: A minimal test to see if a simple container can run on a GPU worker.
  name: yolo-glasses-detection-pipeline-canary-test
root:
  dag:
    tasks:
      canary-test:
        cachingOptions:
          enableCache: true
        componentRef:
          name: comp-canary-test
        taskInfo:
          name: canary-test
  inputDefinitions:
    parameters:
      pipeline_root:
        defaultValue: gs://glasses-temp/pipeline-root
        isOptional: true
        parameterType: STRING
      project_id:
        defaultValue: data-engineering-vm
        isOptional: true
        parameterType: STRING
schemaVersion: 2.1.0
sdkVersion: kfp-2.14.6
